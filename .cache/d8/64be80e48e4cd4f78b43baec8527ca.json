{"id":"redeemService.js","dependencies":[{"name":"C:\\Users\\2021383\\OneDrive - Cognizant\\Documents\\RewardService\\RewardService\\package.json","includedInParent":true,"mtime":1645399115027},{"name":"./constants.js","loc":{"line":3,"column":33,"index":78},"parent":"C:\\Users\\2021383\\OneDrive - Cognizant\\Documents\\RewardService\\RewardService\\src\\redeemService.js","resolved":"C:\\Users\\2021383\\OneDrive - Cognizant\\Documents\\RewardService\\RewardService\\src\\constants.js"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.rewardsService = rewardsService;\n\nvar _constants = require(\"./constants.js\");\n\n/**\r\n * Function for getting rewards\r\n * @param {*} customerAccountNumber \r\n * @param {*} portfolio \r\n * @param {*} eligibilityService \r\n * @returns Customer Rewards as array\r\n */\nfunction rewardsService(customerAccountNumber, portfolio, eligibilityService) {\n  //check customer's eligibility for rewards - mocked up service\n  var custEligibility = eligibilityService(customerAccountNumber); //handles eligibility outputs\n\n  if (custEligibility == _constants.eligiblityOutput[0]) {\n    return customerRewards(portfolio);\n  } else if (custEligibility == _constants.eligiblityOutput[1] || custEligibility == _constants.eligiblityOutput[2]) {\n    return [];\n  } else {\n    return -1;\n  }\n}\n/**\r\n * Function to pick eligible rewards against a customer portfolio\r\n * @param {*} custPortfolio \r\n * @returns Customer Rewards as an array to the calling function within this script\r\n * Console logs for debugging have been retained\r\n */\n\n\nfunction customerRewards(custPortfolio) {\n  var custRewardsArray = []; //builds customerRewards array\n\n  for (var i = 0; i < custPortfolio.length; i++) {\n    //console.log(\"custPortfolio\" + custPortfolio[i]);\n    for (var j = 0; j < _constants.rewards.length; j++) {\n      // console.log(\"customer rewards options length \" + custRewardsOptions.length);\n      //console.log(\"reward \" + j + rewards[j][1]);\n      // let custRewardOptionName = channels[j][0];\n      if (custPortfolio[i] === _constants.rewards[j][0] && _constants.rewards[j][1] != \"N/A\") {\n        //console.log(\"test\" + rewards[j][1]);\n        custRewardsArray.push(_constants.rewards[j][1]);\n      }\n    }\n  } // console.log(\"result\" + custRewardsArray);\n\n\n  return custRewardsArray;\n}"},"sourceMaps":{"js":{"mappings":[{"generated":{"line":8,"column":0},"source":"redeemService.js","original":{"line":2,"column":0}},{"generated":{"line":10,"column":0},"source":"redeemService.js","original":{"line":5,"column":0}},{"generated":{"line":11,"column":0},"source":"redeemService.js","original":{"line":6,"column":0}},{"generated":{"line":12,"column":0},"source":"redeemService.js","original":{"line":7,"column":0}},{"generated":{"line":13,"column":0},"source":"redeemService.js","original":{"line":8,"column":0}},{"generated":{"line":14,"column":0},"source":"redeemService.js","original":{"line":9,"column":0}},{"generated":{"line":15,"column":0},"source":"redeemService.js","original":{"line":10,"column":0}},{"generated":{"line":16,"column":0},"source":"redeemService.js","original":{"line":11,"column":0}},{"generated":{"line":17,"column":0},"source":"redeemService.js","original":{"line":12,"column":7}},{"name":"rewardsService","generated":{"line":17,"column":9},"source":"redeemService.js","original":{"line":12,"column":16}},{"generated":{"line":17,"column":23},"source":"redeemService.js","original":{"line":12,"column":7}},{"name":"customerAccountNumber","generated":{"line":17,"column":24},"source":"redeemService.js","original":{"line":12,"column":31}},{"generated":{"line":17,"column":45},"source":"redeemService.js","original":{"line":12,"column":7}},{"name":"portfolio","generated":{"line":17,"column":47},"source":"redeemService.js","original":{"line":12,"column":54}},{"generated":{"line":17,"column":56},"source":"redeemService.js","original":{"line":12,"column":7}},{"name":"eligibilityService","generated":{"line":17,"column":58},"source":"redeemService.js","original":{"line":12,"column":65}},{"generated":{"line":17,"column":76},"source":"redeemService.js","original":{"line":12,"column":7}},{"generated":{"line":17,"column":78},"source":"redeemService.js","original":{"line":12,"column":85}},{"generated":{"line":18,"column":0},"source":"redeemService.js","original":{"line":13,"column":4}},{"generated":{"line":19,"column":0},"source":"redeemService.js","original":{"line":14,"column":4}},{"name":"custEligibility","generated":{"line":19,"column":6},"source":"redeemService.js","original":{"line":14,"column":8}},{"generated":{"line":19,"column":21},"source":"redeemService.js","original":{"line":14,"column":23}},{"name":"eligibilityService","generated":{"line":19,"column":24},"source":"redeemService.js","original":{"line":14,"column":26}},{"generated":{"line":19,"column":42},"source":"redeemService.js","original":{"line":14,"column":44}},{"name":"customerAccountNumber","generated":{"line":19,"column":43},"source":"redeemService.js","original":{"line":14,"column":45}},{"generated":{"line":19,"column":64},"source":"redeemService.js","original":{"line":14,"column":44}},{"generated":{"line":19,"column":65},"source":"redeemService.js","original":{"line":14,"column":4}},{"generated":{"line":19,"column":66},"source":"redeemService.js","original":{"line":12,"column":85}},{"generated":{"line":19,"column":67},"source":"redeemService.js","original":{"line":15,"column":4}},{"generated":{"line":21,"column":0},"source":"redeemService.js","original":{"line":16,"column":4}},{"name":"custEligibility","generated":{"line":21,"column":6},"source":"redeemService.js","original":{"line":16,"column":8}},{"generated":{"line":21,"column":21},"source":"redeemService.js","original":{"line":16,"column":23}},{"name":"eligiblityOutput","generated":{"line":21,"column":25},"source":"redeemService.js","original":{"line":16,"column":27}},{"generated":{"line":21,"column":53},"source":"redeemService.js","original":{"line":16,"column":44}},{"generated":{"line":21,"column":54},"source":"redeemService.js","original":{"line":16,"column":27}},{"generated":{"line":21,"column":55},"source":"redeemService.js","original":{"line":16,"column":4}},{"generated":{"line":21,"column":57},"source":"redeemService.js","original":{"line":16,"column":48}},{"generated":{"line":22,"column":0},"source":"redeemService.js","original":{"line":17,"column":8}},{"name":"customerRewards","generated":{"line":22,"column":11},"source":"redeemService.js","original":{"line":17,"column":15}},{"generated":{"line":22,"column":26},"source":"redeemService.js","original":{"line":17,"column":30}},{"name":"portfolio","generated":{"line":22,"column":27},"source":"redeemService.js","original":{"line":17,"column":31}},{"generated":{"line":22,"column":36},"source":"redeemService.js","original":{"line":17,"column":30}},{"generated":{"line":22,"column":37},"source":"redeemService.js","original":{"line":17,"column":8}},{"generated":{"line":23,"column":0},"source":"redeemService.js","original":{"line":18,"column":5}},{"generated":{"line":23,"column":3},"source":"redeemService.js","original":{"line":16,"column":4}},{"generated":{"line":23,"column":9},"source":"redeemService.js","original":{"line":18,"column":11}},{"name":"custEligibility","generated":{"line":23,"column":13},"source":"redeemService.js","original":{"line":18,"column":15}},{"generated":{"line":23,"column":28},"source":"redeemService.js","original":{"line":18,"column":30}},{"name":"eligiblityOutput","generated":{"line":23,"column":32},"source":"redeemService.js","original":{"line":18,"column":34}},{"generated":{"line":23,"column":60},"source":"redeemService.js","original":{"line":18,"column":51}},{"generated":{"line":23,"column":61},"source":"redeemService.js","original":{"line":18,"column":34}},{"generated":{"line":23,"column":62},"source":"redeemService.js","original":{"line":18,"column":15}},{"name":"custEligibility","generated":{"line":23,"column":66},"source":"redeemService.js","original":{"line":18,"column":57}},{"generated":{"line":23,"column":81},"source":"redeemService.js","original":{"line":18,"column":72}},{"name":"eligiblityOutput","generated":{"line":23,"column":85},"source":"redeemService.js","original":{"line":18,"column":76}},{"generated":{"line":23,"column":113},"source":"redeemService.js","original":{"line":18,"column":93}},{"generated":{"line":23,"column":114},"source":"redeemService.js","original":{"line":18,"column":76}},{"generated":{"line":23,"column":115},"source":"redeemService.js","original":{"line":18,"column":11}},{"generated":{"line":23,"column":117},"source":"redeemService.js","original":{"line":18,"column":97}},{"generated":{"line":24,"column":0},"source":"redeemService.js","original":{"line":19,"column":8}},{"generated":{"line":24,"column":11},"source":"redeemService.js","original":{"line":19,"column":15}},{"generated":{"line":24,"column":13},"source":"redeemService.js","original":{"line":19,"column":8}},{"generated":{"line":25,"column":0},"source":"redeemService.js","original":{"line":20,"column":5}},{"generated":{"line":25,"column":3},"source":"redeemService.js","original":{"line":18,"column":11}},{"generated":{"line":25,"column":9},"source":"redeemService.js","original":{"line":20,"column":11}},{"generated":{"line":26,"column":0},"source":"redeemService.js","original":{"line":21,"column":8}},{"generated":{"line":26,"column":11},"source":"redeemService.js","original":{"line":21,"column":15}},{"generated":{"line":26,"column":12},"source":"redeemService.js","original":{"line":21,"column":16}},{"generated":{"line":26,"column":13},"source":"redeemService.js","original":{"line":21,"column":8}},{"generated":{"line":27,"column":0},"source":"redeemService.js","original":{"line":22,"column":5}},{"generated":{"line":28,"column":0},"source":"redeemService.js","original":{"line":23,"column":1}},{"generated":{"line":29,"column":0},"source":"redeemService.js","original":{"line":25,"column":0}},{"generated":{"line":30,"column":0},"source":"redeemService.js","original":{"line":26,"column":0}},{"generated":{"line":31,"column":0},"source":"redeemService.js","original":{"line":27,"column":0}},{"generated":{"line":32,"column":0},"source":"redeemService.js","original":{"line":28,"column":0}},{"generated":{"line":33,"column":0},"source":"redeemService.js","original":{"line":29,"column":0}},{"generated":{"line":34,"column":0},"source":"redeemService.js","original":{"line":30,"column":0}},{"generated":{"line":37,"column":0},"source":"redeemService.js","original":{"line":31,"column":0}},{"name":"customerRewards","generated":{"line":37,"column":9},"source":"redeemService.js","original":{"line":31,"column":9}},{"generated":{"line":37,"column":24},"source":"redeemService.js","original":{"line":31,"column":0}},{"name":"custPortfolio","generated":{"line":37,"column":25},"source":"redeemService.js","original":{"line":31,"column":25}},{"generated":{"line":37,"column":38},"source":"redeemService.js","original":{"line":31,"column":0}},{"generated":{"line":37,"column":40},"source":"redeemService.js","original":{"line":31,"column":40}},{"generated":{"line":38,"column":0},"source":"redeemService.js","original":{"line":33,"column":4}},{"name":"custRewardsArray","generated":{"line":38,"column":6},"source":"redeemService.js","original":{"line":33,"column":8}},{"generated":{"line":38,"column":22},"source":"redeemService.js","original":{"line":33,"column":24}},{"generated":{"line":38,"column":25},"source":"redeemService.js","original":{"line":33,"column":27}},{"generated":{"line":38,"column":27},"source":"redeemService.js","original":{"line":33,"column":4}},{"generated":{"line":38,"column":28},"source":"redeemService.js","original":{"line":31,"column":40}},{"generated":{"line":38,"column":29},"source":"redeemService.js","original":{"line":35,"column":4}},{"generated":{"line":40,"column":0},"source":"redeemService.js","original":{"line":36,"column":4}},{"generated":{"line":40,"column":7},"source":"redeemService.js","original":{"line":36,"column":9}},{"name":"i","generated":{"line":40,"column":11},"source":"redeemService.js","original":{"line":36,"column":13}},{"generated":{"line":40,"column":12},"source":"redeemService.js","original":{"line":36,"column":14}},{"generated":{"line":40,"column":15},"source":"redeemService.js","original":{"line":36,"column":17}},{"generated":{"line":40,"column":16},"source":"redeemService.js","original":{"line":36,"column":4}},{"name":"i","generated":{"line":40,"column":18},"source":"redeemService.js","original":{"line":36,"column":20}},{"generated":{"line":40,"column":19},"source":"redeemService.js","original":{"line":36,"column":21}},{"name":"custPortfolio","generated":{"line":40,"column":22},"source":"redeemService.js","original":{"line":36,"column":24}},{"generated":{"line":40,"column":35},"source":"redeemService.js","original":{"line":36,"column":37}},{"name":"length","generated":{"line":40,"column":36},"source":"redeemService.js","original":{"line":36,"column":38}},{"generated":{"line":40,"column":42},"source":"redeemService.js","original":{"line":36,"column":4}},{"name":"i","generated":{"line":40,"column":44},"source":"redeemService.js","original":{"line":36,"column":46}},{"generated":{"line":40,"column":45},"source":"redeemService.js","original":{"line":36,"column":47}},{"generated":{"line":40,"column":47},"source":"redeemService.js","original":{"line":36,"column":4}},{"generated":{"line":40,"column":49},"source":"redeemService.js","original":{"line":36,"column":51}},{"generated":{"line":41,"column":0},"source":"redeemService.js","original":{"line":37,"column":8}},{"generated":{"line":42,"column":0},"source":"redeemService.js","original":{"line":39,"column":8}},{"generated":{"line":42,"column":9},"source":"redeemService.js","original":{"line":39,"column":13}},{"name":"j","generated":{"line":42,"column":13},"source":"redeemService.js","original":{"line":39,"column":17}},{"generated":{"line":42,"column":14},"source":"redeemService.js","original":{"line":39,"column":18}},{"generated":{"line":42,"column":17},"source":"redeemService.js","original":{"line":39,"column":21}},{"generated":{"line":42,"column":18},"source":"redeemService.js","original":{"line":39,"column":8}},{"name":"j","generated":{"line":42,"column":20},"source":"redeemService.js","original":{"line":39,"column":24}},{"generated":{"line":42,"column":21},"source":"redeemService.js","original":{"line":39,"column":25}},{"name":"rewards","generated":{"line":42,"column":24},"source":"redeemService.js","original":{"line":39,"column":28}},{"name":"length","generated":{"line":42,"column":43},"source":"redeemService.js","original":{"line":39,"column":36}},{"generated":{"line":42,"column":49},"source":"redeemService.js","original":{"line":39,"column":8}},{"name":"j","generated":{"line":42,"column":51},"source":"redeemService.js","original":{"line":39,"column":44}},{"generated":{"line":42,"column":52},"source":"redeemService.js","original":{"line":39,"column":45}},{"generated":{"line":42,"column":54},"source":"redeemService.js","original":{"line":39,"column":8}},{"generated":{"line":42,"column":56},"source":"redeemService.js","original":{"line":39,"column":49}},{"generated":{"line":43,"column":0},"source":"redeemService.js","original":{"line":40,"column":12}},{"generated":{"line":44,"column":0},"source":"redeemService.js","original":{"line":41,"column":12}},{"generated":{"line":45,"column":0},"source":"redeemService.js","original":{"line":43,"column":11}},{"generated":{"line":46,"column":0},"source":"redeemService.js","original":{"line":44,"column":12}},{"name":"custPortfolio","generated":{"line":46,"column":10},"source":"redeemService.js","original":{"line":44,"column":16}},{"generated":{"line":46,"column":23},"source":"redeemService.js","original":{"line":44,"column":29}},{"name":"i","generated":{"line":46,"column":24},"source":"redeemService.js","original":{"line":44,"column":30}},{"generated":{"line":46,"column":25},"source":"redeemService.js","original":{"line":44,"column":29}},{"generated":{"line":46,"column":26},"source":"redeemService.js","original":{"line":44,"column":16}},{"name":"rewards","generated":{"line":46,"column":31},"source":"redeemService.js","original":{"line":44,"column":38}},{"name":"j","generated":{"line":46,"column":50},"source":"redeemService.js","original":{"line":44,"column":46}},{"generated":{"line":46,"column":51},"source":"redeemService.js","original":{"line":44,"column":38}},{"generated":{"line":46,"column":53},"source":"redeemService.js","original":{"line":44,"column":49}},{"generated":{"line":46,"column":54},"source":"redeemService.js","original":{"line":44,"column":38}},{"generated":{"line":46,"column":55},"source":"redeemService.js","original":{"line":44,"column":16}},{"name":"rewards","generated":{"line":46,"column":59},"source":"redeemService.js","original":{"line":44,"column":56}},{"name":"j","generated":{"line":46,"column":78},"source":"redeemService.js","original":{"line":44,"column":64}},{"generated":{"line":46,"column":79},"source":"redeemService.js","original":{"line":44,"column":56}},{"generated":{"line":46,"column":81},"source":"redeemService.js","original":{"line":44,"column":67}},{"generated":{"line":46,"column":82},"source":"redeemService.js","original":{"line":44,"column":56}},{"generated":{"line":46,"column":87},"source":"redeemService.js","original":{"line":44,"column":73}},{"generated":{"line":46,"column":92},"source":"redeemService.js","original":{"line":44,"column":12}},{"generated":{"line":46,"column":94},"source":"redeemService.js","original":{"line":44,"column":80}},{"generated":{"line":47,"column":0},"source":"redeemService.js","original":{"line":45,"column":16}},{"name":"custRewardsArray","generated":{"line":48,"column":0},"source":"redeemService.js","original":{"line":46,"column":16}},{"name":"custRewardsArray","generated":{"line":48,"column":8},"source":"redeemService.js","original":{"line":46,"column":16}},{"generated":{"line":48,"column":24},"source":"redeemService.js","original":{"line":46,"column":32}},{"name":"push","generated":{"line":48,"column":25},"source":"redeemService.js","original":{"line":46,"column":33}},{"generated":{"line":48,"column":29},"source":"redeemService.js","original":{"line":46,"column":16}},{"name":"rewards","generated":{"line":48,"column":30},"source":"redeemService.js","original":{"line":46,"column":38}},{"name":"j","generated":{"line":48,"column":49},"source":"redeemService.js","original":{"line":46,"column":46}},{"generated":{"line":48,"column":50},"source":"redeemService.js","original":{"line":46,"column":38}},{"generated":{"line":48,"column":52},"source":"redeemService.js","original":{"line":46,"column":49}},{"generated":{"line":48,"column":53},"source":"redeemService.js","original":{"line":46,"column":38}},{"generated":{"line":48,"column":54},"source":"redeemService.js","original":{"line":46,"column":16}},{"generated":{"line":49,"column":0},"source":"redeemService.js","original":{"line":47,"column":13}},{"generated":{"line":50,"column":0},"source":"redeemService.js","original":{"line":48,"column":9}},{"generated":{"line":51,"column":0},"source":"redeemService.js","original":{"line":49,"column":5}},{"generated":{"line":51,"column":3},"source":"redeemService.js","original":{"line":31,"column":40}},{"generated":{"line":51,"column":4},"source":"redeemService.js","original":{"line":50,"column":3}},{"generated":{"line":54,"column":0},"source":"redeemService.js","original":{"line":51,"column":4}},{"name":"custRewardsArray","generated":{"line":54,"column":9},"source":"redeemService.js","original":{"line":51,"column":11}},{"generated":{"line":54,"column":25},"source":"redeemService.js","original":{"line":51,"column":4}},{"generated":{"line":55,"column":0},"source":"redeemService.js","original":{"line":52,"column":1}}],"sources":{"redeemService.js":"\r\nimport { rewards } from './constants.js';\r\nimport { eligiblityOutput } from './constants.js';\r\n\r\n/**\r\n * Function for getting rewards\r\n * @param {*} customerAccountNumber \r\n * @param {*} portfolio \r\n * @param {*} eligibilityService \r\n * @returns Customer Rewards as array\r\n */\r\nexport function rewardsService(customerAccountNumber, portfolio, eligibilityService) {\r\n    //check customer's eligibility for rewards - mocked up service\r\n    let custEligibility = eligibilityService(customerAccountNumber); \r\n    //handles eligibility outputs\r\n    if (custEligibility == eligiblityOutput[0]) {\r\n        return customerRewards(portfolio)\r\n    } else if (custEligibility == eligiblityOutput[1] || custEligibility == eligiblityOutput[2]) {\r\n        return [];\r\n    } else {\r\n        return -1;\r\n    }\r\n}\r\n\r\n/**\r\n * Function to pick eligible rewards against a customer portfolio\r\n * @param {*} custPortfolio \r\n * @returns Customer Rewards as an array to the calling function within this script\r\n * Console logs for debugging have been retained\r\n */\r\nfunction customerRewards(custPortfolio) {\r\n  \r\n    let custRewardsArray = [];\r\n    \r\n    //builds customerRewards array\r\n    for (let i = 0; i < custPortfolio.length; i++) {\r\n        //console.log(\"custPortfolio\" + custPortfolio[i]);\r\n\r\n        for (let j = 0; j < rewards.length; j++) {\r\n            // console.log(\"customer rewards options length \" + custRewardsOptions.length);\r\n            //console.log(\"reward \" + j + rewards[j][1]);\r\n\r\n           // let custRewardOptionName = channels[j][0];\r\n            if (custPortfolio[i] ===  rewards[j][0] &&  rewards[j][1] != \"N/A\") {\r\n                //console.log(\"test\" + rewards[j][1]);\r\n                custRewardsArray.push(rewards[j][1]);\r\n            }\r\n        }\r\n    }\r\n   // console.log(\"result\" + custRewardsArray);\r\n    return custRewardsArray;\r\n}\r\n"},"lineCount":null}},"error":null,"hash":"6aa64adba166d5a1178da4d18b183ddb","cacheData":{"env":{}}}